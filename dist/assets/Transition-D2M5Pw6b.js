import{G as Z}from"./Header-CaY0myWH.js";import{r as g,R as b,v as X}from"./index-BhOORIRi.js";function Ge(r){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function je(r){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(r)}function Be(r){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(r)}function Fe(r){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-.5 1.5 1.96 2.5H17V9.5h2.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2.22-3c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12v9H8.22zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(r)}var W=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],de="react-international-phone-",ie=(...r)=>r.filter(e=>!!e).join(" ").trim(),ce=(...r)=>ie(...r).split(" ").map(e=>`${de}${e}`).join(" "),P=({addPrefix:r,rawClassNames:e})=>ie(ce(...r),...e),fe=({value:r,mask:e,maskSymbol:n,offset:i=0,trimNonMaskCharsLeftover:a=!1})=>{if(r.length<i)return r;let t=r.slice(0,i),l=r.slice(i),s=t,o=0;for(let d of e.split("")){if(o>=l.length){if(!a&&d!==n){s+=d;continue}break}d===n?(s+=l[o],o+=1):s+=d}return s},U=r=>r?/^\d+$/.test(r):!1,Q=r=>r.replace(/\D/g,""),pe=(r,e)=>{let n=r.style.display;n!=="block"&&(r.style.display="block");let i=r.getBoundingClientRect(),a=e.getBoundingClientRect(),t=a.top-i.top,l=i.bottom-a.bottom;t>=0&&l>=0||(Math.abs(t)<Math.abs(l)?r.scrollTop+=t:r.scrollTop-=l),r.style.display=n},he=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),me=(r,e)=>{let n=e.disableDialCodeAndPrefix?!1:e.forceDialCode,i=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=r,t=d=>e.trimNonDigitsEnd?d.trim():d;if(!a)return i&&!a.length||n?t(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):t(a);if(a=Q(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return t(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return t(n?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(n)return t(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return t(`${e.prefix}${a}`)}let l=()=>{let d=e.dialCode.length,u=a.slice(0,d),h=a.slice(d);return{phoneLeftSide:u,phoneRightSide:h}},{phoneLeftSide:s,phoneRightSide:o}=l();return s=`${e.prefix}${s}${e.charAfterDialCode}`,o=fe({value:o,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&o.length===0}),e.disableDialCodeAndPrefix&&(s=""),t(`${s}${o}`)},ye=({phoneBeforeInput:r,phoneAfterInput:e,phoneAfterFormatted:n,cursorPositionAfterInput:i,leftOffset:a=0,deletion:t})=>{if(i<a)return a;if(!r)return n.length;let l=null;for(let u=i-1;u>=0;u-=1)if(U(e[u])){l=u;break}if(l===null){for(let u=0;u<e.length;u+=1)if(U(n[u]))return u;return e.length}let s=0;for(let u=0;u<l;u+=1)U(e[u])&&(s+=1);let o=0,d=0;for(let u=0;u<n.length&&(o+=1,U(n[u])&&(d+=1),!(d>=s+1));u+=1);if(t!=="backward")for(;!U(n[o])&&o<n.length;)o+=1;return o},J=({phone:r,prefix:e})=>r?`${e}${Q(r)}`:"";function Y({value:r,country:e,insertDialCodeOnEmpty:n,trimNonDigitsEnd:i,countries:a,prefix:t,charAfterDialCode:l,forceDialCode:s,disableDialCodeAndPrefix:o,defaultMask:d,countryGuessingEnabled:u,disableFormatting:h}){let c=r;o&&(c=c.startsWith(`${t}`)?c:`${t}${e.dialCode}${c}`);let p=u?ke({phone:c,countries:a,currentCountryIso2:e==null?void 0:e.iso2}):void 0,D=(p==null?void 0:p.country)??e,y=me(c,{prefix:t,mask:we({phone:c,country:D,defaultMask:d,disableFormatting:h}),maskChar:oe,dialCode:D.dialCode,trimNonDigitsEnd:i,charAfterDialCode:l,forceDialCode:s,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:o}),v=u&&!(p!=null&&p.fullDialCodeMatch)?e:D;return{phone:J({phone:o?`${v.dialCode}${y}`:y,prefix:t}),inputValue:y,country:v}}var Ce=r=>{if((r==null?void 0:r.toLocaleLowerCase().includes("delete"))??!1)return r!=null&&r.toLocaleLowerCase().includes("forward")?"forward":"backward"},ge=(r,{country:e,insertDialCodeOnEmpty:n,phoneBeforeInput:i,prefix:a,charAfterDialCode:t,forceDialCode:l,disableDialCodeAndPrefix:s,countryGuessingEnabled:o,defaultMask:d,disableFormatting:u,countries:h})=>{let c=r.nativeEvent,p=c.inputType,D=Ce(p),y=!!(p!=null&&p.startsWith("insertFrom")),v=p==="insertText",k=(c==null?void 0:c.data)||void 0,x=r.target.value,A=r.target.selectionStart??0;if(p!=null&&p.includes("history"))return{inputValue:i,phone:J({phone:i,prefix:a}),cursorPosition:i.length,country:e};if(v&&!U(k)&&x!==a)return{inputValue:i,phone:J({phone:s?`${e.dialCode}${i}`:i,prefix:a}),cursorPosition:A-((k==null?void 0:k.length)??0),country:e};if(l&&!x.startsWith(`${a}${e.dialCode}`)&&!y){let m=x?i:`${a}${e.dialCode}${t}`;return{inputValue:m,phone:J({phone:m,prefix:a}),cursorPosition:a.length+e.dialCode.length+t.length,country:e}}let{phone:O,inputValue:I,country:f}=Y({value:x,country:e,trimNonDigitsEnd:D==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:o,countries:h,prefix:a,charAfterDialCode:t,forceDialCode:l,disableDialCodeAndPrefix:s,disableFormatting:u,defaultMask:d}),C=ye({cursorPositionAfterInput:A,phoneBeforeInput:i,phoneAfterInput:x,phoneAfterFormatted:I,leftOffset:l?a.length+e.dialCode.length+t.length:0,deletion:D});return{phone:O,inputValue:I,cursorPosition:C,country:f}},ve=(r,e)=>{let n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a of n)if(r[a]!==e[a])return!1;return!0},be=()=>{let r=g.useRef(),e=g.useRef(Date.now());return{check:()=>{let n=Date.now(),i=r.current?n-e.current:void 0;return r.current=e.current,e.current=n,i}}},xe={size:20,overrideLastItemDebounceMS:-1};function Ee(r,e){let{size:n,overrideLastItemDebounceMS:i,onChange:a}={...xe,...e},[t,l]=g.useState(r),[s,o]=g.useState([t]),[d,u]=g.useState(0),h=be();return[t,(c,p)=>{if(typeof c=="object"&&typeof t=="object"&&ve(c,t)||c===t)return;let D=i>0,y=h.check(),v=D&&y!==void 0?y>i:!0;if((p==null?void 0:p.overrideLastItem)!==void 0?p.overrideLastItem:!v)o(k=>[...k.slice(0,d),c]);else{let k=s.length>=n;o(x=>[...x.slice(k?1:0,d+1),c]),k||u(x=>x+1)}l(c),a==null||a(c)},()=>{if(d<=0)return{success:!1};let c=s[d-1];return l(c),u(p=>p-1),a==null||a(c),{success:!0,value:c}},()=>{if(d+1>=s.length)return{success:!1};let c=s[d+1];return l(c),u(p=>p+1),a==null||a(c),{success:!0,value:c}}]}var oe=".",$={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:W,preferredCountries:[]},De=({defaultCountry:r=$.defaultCountry,value:e=$.value,countries:n=$.countries,prefix:i=$.prefix,defaultMask:a=$.defaultMask,charAfterDialCode:t=$.charAfterDialCode,historySaveDebounceMS:l=$.historySaveDebounceMS,disableCountryGuess:s=$.disableCountryGuess,disableDialCodePrefill:o=$.disableDialCodePrefill,forceDialCode:d=$.forceDialCode,disableDialCodeAndPrefix:u=$.disableDialCodeAndPrefix,disableFormatting:h=$.disableFormatting,onChange:c,inputRef:p})=>{let D={countries:n,prefix:i,charAfterDialCode:t,forceDialCode:u?!1:d,disableDialCodeAndPrefix:u,defaultMask:a,countryGuessingEnabled:!s,disableFormatting:h},y=g.useRef(null),v=p||y,k=E=>{Promise.resolve().then(()=>{var S;typeof window>"u"||v.current!==(document==null?void 0:document.activeElement)||((S=v.current)==null||S.setSelectionRange(E,E))})},[{phone:x,inputValue:A,country:O},I,f,C]=Ee(()=>{let E=H({value:r,field:"iso2",countries:n});E||console.error(`[react-international-phone]: can not find a country with "${r}" iso2 code`);let S=E||H({value:"us",field:"iso2",countries:n}),{phone:N,inputValue:T,country:_}=Y({value:e,country:S,insertDialCodeOnEmpty:!o,...D});return k(T.length),{phone:N,inputValue:T,country:_.iso2}},{overrideLastItemDebounceMS:l,onChange:({inputValue:E,phone:S,country:N})=>{if(!c)return;let T=m(N);c({phone:S,inputValue:E,country:T})}}),m=g.useCallback(E=>H({value:E,field:"iso2",countries:n}),[n]),w=g.useMemo(()=>m(O),[O,m]);g.useEffect(()=>{let E=v.current;if(!E)return;let S=N=>{if(!N.key)return;let T=N.ctrlKey,_=N.metaKey,ue=N.shiftKey;if(N.key.toLowerCase()==="z"){if(he()){if(!_)return}else if(!T)return;ue?C():f()}};return E.addEventListener("keydown",S),()=>{E.removeEventListener("keydown",S)}},[v,f,C]);let M=E=>{E.preventDefault();let{phone:S,inputValue:N,country:T,cursorPosition:_}=ge(E,{country:w,phoneBeforeInput:A,insertDialCodeOnEmpty:!1,...D});return I({inputValue:N,phone:S,country:T.iso2}),k(_),e},L=(E,S={focusOnInput:!1})=>{let N=H({value:E,field:"iso2",countries:n});if(!N){console.error(`[react-international-phone]: can not find a country with "${E}" iso2 code`);return}let T=u?"":`${i}${N.dialCode}${t}`;I({inputValue:T,phone:`${i}${N.dialCode}`,country:N.iso2}),S.focusOnInput&&Promise.resolve().then(()=>{var _;(_=v.current)==null||_.focus()})},[V,G]=g.useState(!1);return g.useEffect(()=>{if(!V){G(!0),e!==x&&(c==null||c({inputValue:A,phone:x,country:w}));return}if(e===x)return;let{phone:E,inputValue:S,country:N}=Y({value:e,country:w,insertDialCodeOnEmpty:!o,...D});I({phone:E,inputValue:S,country:N.iso2})},[e]),{phone:x,inputValue:A,country:w,setCountry:L,handlePhoneValueChange:M,inputRef:v}},we=({phone:r,country:e,defaultMask:n="............",disableFormatting:i=!1})=>{let a=e.format,t=s=>i?s.replace(new RegExp(`[^${oe}]`,"g"),""):s;if(!a)return t(n);if(typeof a=="string")return t(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),t(n);let l=Object.keys(a).find(s=>{if(s==="default")return!1;if(!(s.charAt(0)==="/"&&s.charAt(s.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${s}" for ${e.iso2} is not valid`),!1;let o=new RegExp(s.substring(1,s.length-1)),d=r.replace(e.dialCode,"");return o.test(Q(d))});return t(l?a[l]:a.default)},z=r=>{let[e,n,i,a,t,l]=r;return{name:e,iso2:n,dialCode:i,format:a,priority:t,areaCodes:l}},Se=r=>`Field "${r}" is not supported`,H=({field:r,value:e,countries:n=W})=>{if(["priority"].includes(r))throw new Error(Se(r));let i=n.find(a=>{let t=z(a);return e===t[r]});if(i)return z(i)},ke=({phone:r,countries:e=W,currentCountryIso2:n})=>{var s;let i={country:void 0,fullDialCodeMatch:!1};if(!r)return i;let a=Q(r);if(!a)return i;let t=i,l=({country:o,fullDialCodeMatch:d})=>{var c,p;let u=o.dialCode===((c=t.country)==null?void 0:c.dialCode),h=(o.priority??0)<(((p=t.country)==null?void 0:p.priority)??0);(!u||h)&&(t={country:o,fullDialCodeMatch:d})};for(let o of e){let d=z(o),{dialCode:u,areaCodes:h}=d;if(a.startsWith(u)){let c=t.country?Number(u)>=Number(t.country.dialCode):!0;if(h){let p=a.substring(u.length);for(let D of h)if(p.startsWith(D))return{country:d,fullDialCodeMatch:!0}}(c||u===a||!t.fullDialCodeMatch)&&l({country:d,fullDialCodeMatch:!0})}t.fullDialCodeMatch||a.length<u.length&&u.startsWith(a)&&(!t.country||Number(u)<=Number(t.country.dialCode))&&l({country:d,fullDialCodeMatch:!1})}if(n){let o=H({value:n,field:"iso2",countries:e});if(!o)return t;let d=o?(u=>{if(!(u!=null&&u.areaCodes))return!1;let h=a.substring(u.dialCode.length);return u.areaCodes.some(c=>c.startsWith(h))})(o):!1;t&&((s=t.country)==null?void 0:s.dialCode)===o.dialCode&&t.country!==o&&t.fullDialCodeMatch&&(!o.areaCodes||d)&&(t={country:o,fullDialCodeMatch:!0})}return t},Ne=(r,e)=>{let n=parseInt(r,16);return Number(n+e).toString(16)},Me="abcdefghijklmnopqrstuvwxyz",Pe="1f1e6",ae=Me.split("").reduce((r,e,n)=>({...r,[e]:Ne(Pe,n)}),{}),Ae=r=>[ae[r[0]],ae[r[1]]].join("-"),le=({iso2:r,size:e,src:n,protocol:i="https",disableLazyLoading:a,className:t,style:l,...s})=>{if(!r)return b.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[t]}),width:e,height:e,...s});let o=()=>{if(n)return n;let d=Ae(r);return`${i}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${d}.svg`};return b.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[t]}),src:o(),width:e,height:e,draggable:!1,"data-country":r,loading:a?void 0:"lazy",style:{width:e,height:e,...l},alt:"",...s})},$e=1e3,Ie=({show:r,dialCodePrefix:e="+",selectedCountry:n,countries:i=W,preferredCountries:a=[],flags:t,onSelect:l,onClose:s,...o})=>{let d=g.useRef(null),u=g.useRef(),h=g.useMemo(()=>{if(!a||!a.length)return i;let f=[],C=[...i];for(let m of a){let w=C.findIndex(M=>z(M).iso2===m);if(w!==-1){let M=C.splice(w,1)[0];f.push(M)}}return f.concat(C)},[i,a]),c=g.useRef({updatedAt:void 0,value:""}),p=f=>{let C=c.current.updatedAt&&new Date().getTime()-c.current.updatedAt.getTime()>$e;c.current={value:C?f:`${c.current.value}${f}`,updatedAt:new Date};let m=h.findIndex(w=>z(w).name.toLowerCase().startsWith(c.current.value));m!==-1&&v(m)},D=g.useCallback(f=>h.findIndex(C=>z(C).iso2===f),[h]),[y,v]=g.useState(D(n)),k=()=>{u.current!==n&&v(D(n))},x=g.useCallback(f=>{v(D(f.iso2)),l==null||l(f)},[l,D]),A=f=>{let C=h.length-1,m=w=>f==="prev"?w-1:f==="next"?w+1:f==="last"?C:0;v(w=>{let M=m(w);return M<0?0:M>C?C:M})},O=f=>{if(f.stopPropagation(),f.key==="Enter"){f.preventDefault();let C=z(h[y]);x(C);return}if(f.key==="Escape"){s==null||s();return}if(f.key==="ArrowUp"){f.preventDefault(),A("prev");return}if(f.key==="ArrowDown"){f.preventDefault(),A("next");return}if(f.key==="PageUp"){f.preventDefault(),A("first");return}if(f.key==="PageDown"){f.preventDefault(),A("last");return}f.key===" "&&f.preventDefault(),f.key.length===1&&!f.altKey&&!f.ctrlKey&&!f.metaKey&&p(f.key.toLocaleLowerCase())},I=g.useCallback(()=>{if(!d.current||y===void 0)return;let f=z(h[y]).iso2;if(f===u.current)return;let C=d.current.querySelector(`[data-country="${f}"]`);C&&(pe(d.current,C),u.current=f)},[y,h]);return g.useEffect(()=>{I()},[y,I]),g.useEffect(()=>{d.current&&(r?d.current.focus():k())},[r]),g.useEffect(()=>{k()},[n]),b.createElement("ul",{ref:d,role:"listbox",className:P({addPrefix:["country-selector-dropdown"],rawClassNames:[o.className]}),style:{display:r?"block":"none",...o.style},onKeyDown:O,onBlur:s,tabIndex:-1,"aria-activedescendant":`react-international-phone__${z(h[y]).iso2}-option`},h.map((f,C)=>{let m=z(f),w=m.iso2===n,M=C===y,L=a.includes(m.iso2),V=C===a.length-1,G=t==null?void 0:t.find(E=>E.iso2===m.iso2);return b.createElement(b.Fragment,{key:m.iso2},b.createElement("li",{"data-country":m.iso2,role:"option","aria-selected":w,"aria-label":`${m.name} ${e}${m.dialCode}`,id:`react-international-phone__${m.iso2}-option`,className:P({addPrefix:["country-selector-dropdown__list-item",L&&"country-selector-dropdown__list-item--preferred",w&&"country-selector-dropdown__list-item--selected",M&&"country-selector-dropdown__list-item--focused"],rawClassNames:[o.listItemClassName]}),onClick:()=>x(m),style:o.listItemStyle,title:m.name},b.createElement(le,{iso2:m.iso2,src:G==null?void 0:G.src,className:P({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[o.listItemFlagClassName]}),style:o.listItemFlagStyle}),b.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[o.listItemCountryNameClassName]}),style:o.listItemCountryNameStyle},m.name),b.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[o.listItemDialCodeClassName]}),style:o.listItemDialCodeStyle},e,m.dialCode)),V?b.createElement("hr",{className:P({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[o.preferredListDividerClassName]}),style:o.preferredListDividerStyle}):null)}))},Le=({selectedCountry:r,onSelect:e,disabled:n,hideDropdown:i,countries:a=W,preferredCountries:t=[],flags:l,renderButtonWrapper:s,...o})=>{let[d,u]=g.useState(!1),h=g.useMemo(()=>{if(r)return H({value:r,field:"iso2",countries:a})},[a,r]),c=g.useRef(null),p=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),u(!0))},D=()=>{var k;let y={title:h==null?void 0:h.name,onClick:()=>u(x=>!x),onMouseDown:x=>x.preventDefault(),onKeyDown:p,disabled:i||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":d},v=b.createElement("div",{className:P({addPrefix:["country-selector-button__button-content"],rawClassNames:[o.buttonContentWrapperClassName]}),style:o.buttonContentWrapperStyle},b.createElement(le,{iso2:r,src:(k=l==null?void 0:l.find(x=>x.iso2===r))==null?void 0:k.src,className:P({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[o.flagClassName]}),style:{visibility:r?"visible":"hidden",...o.flagStyle}}),!i&&b.createElement("div",{className:P({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",d&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[o.dropdownArrowClassName]}),style:o.dropdownArrowStyle}));return s?s({children:v,rootProps:y}):b.createElement("button",{...y,type:"button",className:P({addPrefix:["country-selector-button",d&&"country-selector-button--active",n&&"country-selector-button--disabled",i&&"country-selector-button--hide-dropdown"],rawClassNames:[o.buttonClassName]}),"data-country":r,style:o.buttonStyle},v)};return b.createElement("div",{className:P({addPrefix:["country-selector"],rawClassNames:[o.className]}),style:o.style,ref:c},D(),b.createElement(Ie,{show:d,countries:a,preferredCountries:t,flags:l,onSelect:y=>{u(!1),e==null||e(y)},selectedCountry:r,onClose:()=>{u(!1)},...o.dropdownStyleProps}))},Te=({dialCode:r,prefix:e,disabled:n,style:i,className:a})=>b.createElement("div",{className:P({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:i},`${e}${r}`),Ue=g.forwardRef(({value:r,onChange:e,countries:n=W,preferredCountries:i=[],hideDropdown:a,showDisabledDialCodeAndPrefix:t,disableFocusAfterCountrySelect:l,flags:s,style:o,className:d,inputStyle:u,inputClassName:h,countrySelectorStyleProps:c,dialCodePreviewStyleProps:p,inputProps:D,placeholder:y,disabled:v,name:k,onFocus:x,onBlur:A,required:O,autoFocus:I,...f},C)=>{let{phone:m,inputValue:w,inputRef:M,country:L,setCountry:V,handlePhoneValueChange:G}=De({value:r,countries:n,...f,onChange:S=>{e==null||e(S.phone,{country:S.country,inputValue:S.inputValue})}}),E=f.disableDialCodeAndPrefix&&t&&(L==null?void 0:L.dialCode);return g.useImperativeHandle(C,()=>M.current?Object.assign(M.current,{setCountry:V,state:{phone:m,inputValue:w,country:L}}):null,[M,V,m,w,L]),b.createElement("div",{ref:C,className:P({addPrefix:["input-container"],rawClassNames:[d]}),style:o},b.createElement(Le,{onSelect:S=>V(S.iso2,{focusOnInput:!l}),flags:s,selectedCountry:L.iso2,countries:n,preferredCountries:i,disabled:v,hideDropdown:a,...c}),E&&b.createElement(Te,{dialCode:L.dialCode,prefix:f.prefix??"+",disabled:v,...p}),b.createElement("input",{onChange:G,value:w,type:"tel",ref:M,className:P({addPrefix:["input",v&&"input--disabled"],rawClassNames:[h]}),placeholder:y,disabled:v,style:u,name:k,onFocus:x,onBlur:A,autoFocus:I,required:O,...D}))});function re(){return re=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},re.apply(null,arguments)}function ze(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.includes(i))continue;n[i]=r[i]}return n}function ee(r,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ee(r,e)}function Oe(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,ee(r,e)}const ne={disabled:!1},se=b.createContext(null);var _e=function(e){return e.scrollTop},q="unmounted",j="exited",B="entering",K="entered",te="exiting",R=function(r){Oe(e,r);function e(i,a){var t;t=r.call(this,i,a)||this;var l=a,s=l&&!l.isMounting?i.enter:i.appear,o;return t.appearStatus=null,i.in?s?(o=j,t.appearStatus=B):o=K:i.unmountOnExit||i.mountOnEnter?o=q:o=j,t.state={status:o},t.nextCallback=null,t}e.getDerivedStateFromProps=function(a,t){var l=a.in;return l&&t.status===q?{status:j}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var t=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==B&&l!==K&&(t=B):(l===B||l===K)&&(t=te)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,t,l,s;return t=l=s=a,a!=null&&typeof a!="number"&&(t=a.exit,l=a.enter,s=a.appear!==void 0?a.appear:l),{exit:t,enter:l,appear:s}},n.updateStatus=function(a,t){if(a===void 0&&(a=!1),t!==null)if(this.cancelNextCallback(),t===B){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:X.findDOMNode(this);l&&_e(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===j&&this.setState({status:q})},n.performEnter=function(a){var t=this,l=this.props.enter,s=this.context?this.context.isMounting:a,o=this.props.nodeRef?[s]:[X.findDOMNode(this),s],d=o[0],u=o[1],h=this.getTimeouts(),c=s?h.appear:h.enter;if(!a&&!l||ne.disabled){this.safeSetState({status:K},function(){t.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:B},function(){t.props.onEntering(d,u),t.onTransitionEnd(c,function(){t.safeSetState({status:K},function(){t.props.onEntered(d,u)})})})},n.performExit=function(){var a=this,t=this.props.exit,l=this.getTimeouts(),s=this.props.nodeRef?void 0:X.findDOMNode(this);if(!t||ne.disabled){this.safeSetState({status:j},function(){a.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:te},function(){a.props.onExiting(s),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:j},function(){a.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,t){t=this.setNextCallback(t),this.setState(a,t)},n.setNextCallback=function(a){var t=this,l=!0;return this.nextCallback=function(s){l&&(l=!1,t.nextCallback=null,a(s))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(a,t){this.setNextCallback(t);var l=this.props.nodeRef?this.props.nodeRef.current:X.findDOMNode(this),s=a==null&&!this.props.addEndListener;if(!l||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=o[0],u=o[1];this.props.addEndListener(d,u)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===q)return null;var t=this.props,l=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var s=ze(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return b.createElement(se.Provider,{value:null},typeof l=="function"?l(a,s):b.cloneElement(b.Children.only(l),s))},e}(b.Component);R.contextType=se;R.propTypes={};function F(){}R.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:F,onEntering:F,onEntered:F,onExit:F,onExiting:F,onExited:F};R.UNMOUNTED=q;R.EXITED=j;R.ENTERING=B;R.ENTERED=K;R.EXITING=te;export{B as E,Ge as M,R as T,Ue as U,ze as _,je as a,Fe as b,re as c,K as d,Be as e,Oe as f,se as g};
