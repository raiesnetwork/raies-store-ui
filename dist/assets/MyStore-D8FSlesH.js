import{j as e,L as A,G as N,g as B,u as L,a as j,r as i,b as k,H as w}from"./index-DO3I4ds2.js";import{L as M}from"./index-DBYjPjf5.js";import{G as C}from"./index-BUe2KT84.js";import{S as G}from"./Footer-BfcSR1Ch.js";const D=({data:r})=>{const d=(c,p=20)=>c.length>p?`${c.substring(0,p)}...`:c;return e.jsx("div",{className:"product-card",children:e.jsxs(A,{style:{textDecoration:"none"},to:`/details/${r==null?void 0:r._id}`,children:[e.jsxs("div",{className:"product-card__image-sec",children:[e.jsx("img",{src:r.mainImage,alt:r.productName,className:"product-card__img",loading:"lazy"}),e.jsx("div",{className:"product-card__badge",children:r.priceOption==="barter"?e.jsxs("span",{className:"product-card__badge--barter",children:[e.jsx(M,{className:"product-card__badge-icon"})," Barter"]}):r.priceOption==="bidding"?e.jsxs("span",{className:"product-card__badge--bidding",children:[e.jsx(C,{className:"product-card__badge-icon"})," Bid"]}):r.priceOption==="free"?e.jsx("span",{className:"product-card__badge--free",children:"Free"}):null})]}),e.jsxs("div",{className:"product-card__info",children:[e.jsx("h3",{className:"product-card__name",title:r.productName,children:r.productName}),e.jsx("div",{className:"product-card__price",children:r.priceOption==="free"?e.jsx("span",{className:"product-card__price--free",children:"Free"}):r.priceOption==="normal"?e.jsxs("span",{className:"product-card__price--normal",children:[r.price," ",r.currency]}):r.priceOption==="barter"?e.jsxs("span",{className:"product-card__price--barter",title:r.barterProductName,children:["For: ",d(r.barterProductName,15)]}):r.priceOption==="bidding"?e.jsxs("span",{className:"product-card__price--bidding",children:["Start: ",r.minBidPrice,"â‚¹"]}):null})]})]})})};function H(r){return N({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18"},child:[]}]})(r)}function I(r){return N({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"},child:[]}]})(r)}const{hostname:R}=window.location;let _=B(R);const z=()=>{const{FetchToCart:r,AllProducts:d,setHomeLoader:c,homeLoader:p,latestProduct:b,setUserName:y,storeData:u,getShprocketToken:v}=L(s=>s),{isAuthenticated:g}=j()||{},[n,P]=i.useState([]),[m,S]=i.useState([]),[o,O]=i.useState("All"),[t,h]=i.useState(1),[l]=i.useState(10);i.useEffect(()=>{d.length>0&&(P(d),c(!1))},[d]),i.useEffect(()=>{if(g){const s=localStorage.getItem("suname");y(s),v()}},[g]);const{user:x}=j()||{};i.useEffect(()=>{_&&(async()=>{c(!0),x&&r(),await b(_,""),c(!1)})()},[_,x]),i.useEffect(()=>{let s=n;o==="Price"?s=n.filter(a=>a.priceOption==="normal"):o==="Bidding"?s=n.filter(a=>a.priceOption==="bidding"):o==="Barter"?s=n.filter(a=>a.priceOption==="barter"):o==="free"&&(s=n.filter(a=>a.priceOption==="free")),S(s),h(1)},[o,n]);const f=m.slice((t-1)*l,t*l),E=()=>{t<Math.ceil(m.length/l)&&h(s=>s+1)},F=()=>{t>1&&h(s=>s-1)};return e.jsx(e.Fragment,{children:p?e.jsx(k,{}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(w,{}),e.jsx("div",{style:{flex:1},children:e.jsxs("div",{className:"mystore",children:[e.jsx("div",{className:"myStore__banner",children:e.jsx("img",{src:u?u==null?void 0:u.storeBanner:"/media/nike banner.png",className:"mystore__banner_img",alt:""})}),e.jsx("div",{className:"mystore__category_container",children:e.jsxs("select",{value:o,onChange:s=>O(s.target.value),className:"mystore__select_category",children:[e.jsx("option",{value:"All",children:"ALL"}),e.jsx("option",{value:"free",children:"FREE"}),e.jsx("option",{value:"Price",children:"NORMAL"}),e.jsx("option",{value:"Bidding",children:"AUCTIONS"}),e.jsx("option",{value:"Barter",children:"EXCHANGE"})]})}),e.jsx("div",{className:"mystore__products_sec",children:f.length>0?f.map(s=>s.flag?null:e.jsx(D,{data:s},s._id)):e.jsx("div",{className:"mystore__empty_msg",children:"Store is empty"})}),e.jsxs("div",{className:"mystore__pagination",children:[e.jsx("button",{style:{cursor:t>=Math.ceil(m.length/l)?"pointer":"not-allowed"},onClick:F,disabled:t===1,className:"mystore__pagination-btn",children:e.jsx(I,{className:"mystore__pagination_icon"})}),e.jsx("div",{children:t}),e.jsx("button",{style:{cursor:t>=Math.ceil(m.length/l)?"not-allowed":"pointer"},onClick:E,disabled:t>=Math.ceil(m.length/l),className:"mystore__pagination-btn",children:e.jsx(H,{className:"mystore__pagination_icon"})})]})]})}),e.jsx(G,{})]})})};export{z as default};
