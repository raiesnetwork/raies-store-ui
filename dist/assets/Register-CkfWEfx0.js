import{g as R,r as t,u as k,n as L,j as e,H as O,L as A,k as n}from"./index-DO3I4ds2.js";import{U as G,c as V}from"./index-siBYNNm5.js";/* empty css              */import{d as _,b as j,S as y,c as a,I as W,e as z,V as H,f as X,C as q}from"./Login-CkgJ_diG.js";import{b as J}from"./index-BpGle8xR.js";const{hostname:K}=window.location;let f=R(K);const se=()=>{const[l,v]=t.useState(""),[o,N]=t.useState(""),[i,b]=t.useState(""),[h,u]=t.useState(!1),[S,g]=t.useState(!1),[P,w]=t.useState(""),[r,C]=t.useState("false"),[d,E]=t.useState("false"),[c,M]=t.useState(""),{registrationVerify:T}=k(s=>s),x=L(),D=async s=>{try{if(u(!0),s.preventDefault(),!i.trim()||!l.trim())return n.error("Fill the input fields properly");if(!o.trim())return n.error("Enter a valid password");if(r==="false")return n.error("Select a user type");if(r==="Dealer"&&d==="false")return n.error("Select a payment type");if(r==="Dealer"&&!c.trim())return n.error("Enter your Business Partner Type");const p=await T(i,f);p.error?(u(!1),g(!0),w(p.message)):(u(!1),g(!1),x("/otp",{state:{mobileNumber:i,subdomain:f,username:l,password:o,userType:r,paymentType:d,businessPartnerType:c,registration:!0}}))}catch(p){console.error(p)}finally{u(!1)}},I=()=>{if(!i.trim()||!l.trim())return n.error("Fill the input fields properly");if(r==="Dealer"&&d==="false")return n.error("Select a payment type");if(!o.trim())return n.error("Enter a valid password");if(r==="Dealer"&&!c.trim())return n.error("Enter your Business Partner Type");x("/billing",{state:{mobileNumber:i,username:l,userType:r,paymentType:d,businessPartnerType:c,password:o}})},[m,U]=t.useState(!1),B=()=>{U(!m)},F=s=>{s.preventDefault()};return e.jsxs(e.Fragment,{children:[e.jsx(O,{}),e.jsxs("div",{className:"login",children:[e.jsxs("div",{className:"login__header",children:["WELCOME TO ",e.jsx("span",{style:{color:"blueviolet"},children:"iXES"})," IRP COMMERCE"]}),e.jsx("div",{className:"login__header_login",children:"REGISTER"}),e.jsxs("div",{className:"login__container",children:[e.jsx("div",{className:"login__input_container",children:e.jsx(_,{id:"outlined-username",label:"Name",type:"text",className:"login__input_field",value:l,onChange:s=>v(s.target.value)})}),e.jsx("div",{className:"login__input_container",children:e.jsx(j,{fullWidth:!0,children:e.jsxs(y,{id:"user-type",value:r,onChange:s=>C(s.target.value),children:[e.jsx(a,{value:"false",children:"Select User Role"}),e.jsx(a,{value:"Normal",children:"Standard User"}),e.jsx(a,{value:"Dealer",children:"Business Partner"})]})})}),r==="Dealer"&&e.jsx("div",{className:"login__input_container",children:e.jsx(_,{id:"business-partner-type",label:"Business Partner Type",type:"text",className:"login__input_field",value:c,onChange:s=>M(s.target.value)})}),r==="Dealer"&&e.jsx("div",{className:"login__input_container",children:e.jsx(j,{fullWidth:!0,children:e.jsxs(y,{id:"payment-type",value:d,onChange:s=>E(s.target.value),children:[e.jsx(a,{value:"false",children:"Payment Type"}),e.jsx(a,{value:"Up Front",children:"Up Front"}),e.jsx(a,{value:"Monthly Payment",children:"Monthly Payment"}),e.jsx(a,{value:"Credit",children:"Credit"})]})})}),e.jsx("div",{className:"login__input_container",children:e.jsx(G,{value:i,onChange:b,className:"login__phone_input_field",defaultCountry:"in",placeholder:"Enter phone number"})}),e.jsx("div",{className:"login__input_container",children:e.jsx(_,{id:"outlined-password-input",label:"Password",type:m?"text":"password",className:"login__input_field",value:o,onChange:s=>N(s.target.value),InputProps:{endAdornment:e.jsx(W,{position:"end",children:e.jsx(z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:F,edge:"end",children:m?e.jsx(H,{}):e.jsx(X,{})})})}})}),e.jsx("div",{className:"login__btn_container",children:r==="Dealer"?e.jsx("button",{className:"login__btn",onClick:I,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[e.jsx(J,{size:22,style:{paddingBottom:"5px"}}),"GET PREMIUM PLAN"]})}):e.jsx("button",{className:"login__btn",onClick:D,disabled:h,children:h?e.jsx(q,{size:24}):"SIGN UP"})}),e.jsx("div",{className:"login__redirect_text_sec",children:e.jsxs("div",{className:"login__redirect_text",children:[e.jsx("span",{className:"login__redirect_txt",children:"Already have an account?"}),e.jsx(A,{to:"/login",className:"login__redirect_link",children:"LOG IN"})]})}),S&&e.jsxs("div",{className:"login__error_sec",children:[e.jsx(V,{}),e.jsx("div",{className:"login__error_msg",children:P||"Login Error"})]})]})]})]})};export{se as default};
