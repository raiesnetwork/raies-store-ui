import{j as e,L as E,g as A,u as L,a as _,r as i,b as k}from"./index-O9k_qbqq.js";import{L as B}from"./index-y7_6Fc_2.js";import{G as M}from"./index-CE93OhGH.js";import{G as j,H as C}from"./Header-DR75LYZ0.js";import{S as G}from"./Footer-DgGaWoOz.js";const D=({data:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"product-card",children:e.jsxs(E,{style:{textDecoration:"none"},to:`/details/${t==null?void 0:t._id}`,children:[e.jsx("div",{className:"product-card__image-sec",children:e.jsx("img",{src:t.mainImage,alt:t.productName,className:"product-card_img"})}),e.jsxs("div",{className:"product-card__info",children:[e.jsx("div",{className:"product-card__name",children:t.productName}),e.jsx("div",{className:"prduct-card_swap-icon-sec",children:t.priceOption==="barter"?e.jsx(B,{className:"product-card_swap-icon"}):t.priceOption==="bidding"?e.jsx(M,{className:"product-card_swap-icon"}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"product-card__price",children:t.priceOption==="free"?"Free":t.priceOption==="normal"?`${t.price} ${t.currency} `:t.priceOption==="barter"?`${t.barterProductName}`:t.priceOption==="bidding"?e.jsxs(e.Fragment,{children:[`${t.minBidPrice}â‚¹`,e.jsx("br",{})]}):""})]})]})})});function H(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18"},child:[]}]})(t)}function $(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"},child:[]}]})(t)}const{hostname:I}=window.location;let h=A(I);const X=()=>{const{FetchToCart:t,AllProducts:m,setHomeLoader:p,homeLoader:N,latestProduct:y,setUserName:v,storeData:d,getShprocketToken:b}=L(s=>s),{isAuthenticated:x}=_()||{},[o,P]=i.useState([]),[l,S]=i.useState([]),[c,F]=i.useState("All"),[r,u]=i.useState(1),[a]=i.useState(10);i.useEffect(()=>{m.length>0&&(P(m),p(!1))},[m]),i.useEffect(()=>{if(x){const s=localStorage.getItem("suname");v(s),b()}},[x]);const{user:g}=_()||{};i.useEffect(()=>{h&&(async()=>{p(!0),g&&t(),await y(h,""),p(!1)})()},[h,g]),i.useEffect(()=>{let s=o;c==="Price"?s=o.filter(n=>n.priceOption==="normal"):c==="Bidding"?s=o.filter(n=>n.priceOption==="bidding"):c==="Barter"?s=o.filter(n=>n.priceOption==="barter"):c==="free"&&(s=o.filter(n=>n.priceOption==="free")),S(s),u(1)},[c,o]);const f=l.slice((r-1)*a,r*a),O=()=>{r<Math.ceil(l.length/a)&&u(s=>s+1)},w=()=>{r>1&&u(s=>s-1)};return e.jsx(e.Fragment,{children:N?e.jsx(k,{}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(C,{}),e.jsx("div",{style:{flex:1},children:e.jsxs("div",{className:"mystore",children:[e.jsx("div",{className:"myStore__banner",children:e.jsx("img",{src:d?d==null?void 0:d.storeBanner:"/media/nike banner.png",className:"mystore__banner_img",alt:""})}),e.jsx("div",{className:"mystore__category_container",children:e.jsxs("select",{value:c,onChange:s=>F(s.target.value),className:"mystore__select_category",children:[e.jsx("option",{value:"All",children:"ALL"}),e.jsx("option",{value:"free",children:"FREE"}),e.jsx("option",{value:"Price",children:"NORMAL"}),e.jsx("option",{value:"Bidding",children:"AUCTIONS"}),e.jsx("option",{value:"Barter",children:"EXCHANGE"})]})}),e.jsx("div",{className:"mystore__products_sec",children:f.length>0?f.map(s=>s.flag?null:e.jsx(D,{data:s},s._id)):e.jsx("div",{className:"mystore__empty_msg",children:"Store is empty"})}),e.jsxs("div",{className:"mystore__pagination",children:[e.jsx("button",{style:{cursor:r>=Math.ceil(l.length/a)?"pointer":"not-allowed"},onClick:w,disabled:r===1,className:"mystore__pagination-btn",children:e.jsx($,{className:"mystore__pagination_icon"})}),e.jsx("div",{children:r}),e.jsx("button",{style:{cursor:r>=Math.ceil(l.length/a)?"not-allowed":"pointer"},onClick:O,disabled:r>=Math.ceil(l.length/a),className:"mystore__pagination-btn",children:e.jsx(H,{className:"mystore__pagination_icon"})})]})]})}),e.jsx(G,{})]})})};export{X as default};
