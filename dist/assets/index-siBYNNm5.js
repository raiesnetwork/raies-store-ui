import{G as K,r as g,R as S}from"./index-DO3I4ds2.js";function ke(t){return K({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function Se(t){return K({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(t)}function Ne(t){return K({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Me(t){return K({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-.5 1.5 1.96 2.5H17V9.5h2.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2.22-3c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12v9H8.22zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(t)}var T=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],X="react-international-phone-",W=(...t)=>t.filter(e=>!!e).join(" ").trim(),Y=(...t)=>W(...t).split(" ").map(e=>`${X}${e}`).join(" "),A=({addPrefix:t,rawClassNames:e})=>W(Y(...t),...e),ee=({value:t,mask:e,maskSymbol:i,offset:l=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<l)return t;let r=t.slice(0,l),f=t.slice(l),u=r,n=0;for(let s of e.split("")){if(n>=f.length){if(!a&&s!==i){u+=s;continue}break}s===i?(u+=f[n],n+=1):u+=s}return u},G=t=>t?/^\d+$/.test(t):!1,H=t=>t.replace(/\D/g,""),te=(t,e)=>{let i=t.style.display;i!=="block"&&(t.style.display="block");let l=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=a.top-l.top,f=l.bottom-a.bottom;r>=0&&f>=0||(Math.abs(r)<Math.abs(f)?t.scrollTop+=r:t.scrollTop-=f),t.style.display=i},ae=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),re=(t,e)=>{let i=e.disableDialCodeAndPrefix?!1:e.forceDialCode,l=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,r=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return l&&!a.length||i?r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):r(a);if(a=H(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return r(i?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(i)return r(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return r(`${e.prefix}${a}`)}let f=()=>{let s=e.dialCode.length,o=a.slice(0,s),h=a.slice(s);return{phoneLeftSide:o,phoneRightSide:h}},{phoneLeftSide:u,phoneRightSide:n}=f();return u=`${e.prefix}${u}${e.charAfterDialCode}`,n=ee({value:n,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&n.length===0}),e.disableDialCodeAndPrefix&&(u=""),r(`${u}${n}`)},ne=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:i,cursorPositionAfterInput:l,leftOffset:a=0,deletion:r})=>{if(l<a)return a;if(!t)return i.length;let f=null;for(let o=l-1;o>=0;o-=1)if(G(e[o])){f=o;break}if(f===null){for(let o=0;o<e.length;o+=1)if(G(i[o]))return o;return e.length}let u=0;for(let o=0;o<f;o+=1)G(e[o])&&(u+=1);let n=0,s=0;for(let o=0;o<i.length&&(n+=1,G(i[o])&&(s+=1),!(s>=u+1));o+=1);if(r!=="backward")for(;!G(i[n])&&n<i.length;)n+=1;return n},O=({phone:t,prefix:e})=>t?`${e}${H(t)}`:"";function U({value:t,country:e,insertDialCodeOnEmpty:i,trimNonDigitsEnd:l,countries:a,prefix:r,charAfterDialCode:f,forceDialCode:u,disableDialCodeAndPrefix:n,defaultMask:s,countryGuessingEnabled:o,disableFormatting:h}){let d=t;n&&(d=d.startsWith(`${r}`)?d:`${r}${e.dialCode}${d}`);let p=o?he({phone:d,countries:a,currentCountryIso2:e==null?void 0:e.iso2}):void 0,D=(p==null?void 0:p.country)??e,y=re(d,{prefix:r,mask:fe({phone:d,country:D,defaultMask:s,disableFormatting:h}),maskChar:J,dialCode:D.dialCode,trimNonDigitsEnd:l,charAfterDialCode:f,forceDialCode:u,insertDialCodeOnEmpty:i,disableDialCodeAndPrefix:n}),b=o&&!(p!=null&&p.fullDialCodeMatch)?e:D;return{phone:O({phone:n?`${b.dialCode}${y}`:y,prefix:r}),inputValue:y,country:b}}var ie=t=>{if((t==null?void 0:t.toLocaleLowerCase().includes("delete"))??!1)return t!=null&&t.toLocaleLowerCase().includes("forward")?"forward":"backward"},oe=(t,{country:e,insertDialCodeOnEmpty:i,phoneBeforeInput:l,prefix:a,charAfterDialCode:r,forceDialCode:f,disableDialCodeAndPrefix:u,countryGuessingEnabled:n,defaultMask:s,disableFormatting:o,countries:h})=>{let d=t.nativeEvent,p=d.inputType,D=ie(p),y=!!(p!=null&&p.startsWith("insertFrom")),b=p==="insertText",N=(d==null?void 0:d.data)||void 0,v=t.target.value,E=t.target.selectionStart??0;if(p!=null&&p.includes("history"))return{inputValue:l,phone:O({phone:l,prefix:a}),cursorPosition:l.length,country:e};if(b&&!G(N)&&v!==a)return{inputValue:l,phone:O({phone:u?`${e.dialCode}${l}`:l,prefix:a}),cursorPosition:E-((N==null?void 0:N.length)??0),country:e};if(f&&!v.startsWith(`${a}${e.dialCode}`)&&!y){let m=v?l:`${a}${e.dialCode}${r}`;return{inputValue:m,phone:O({phone:m,prefix:a}),cursorPosition:a.length+e.dialCode.length+r.length,country:e}}let{phone:_,inputValue:z,country:c}=U({value:v,country:e,trimNonDigitsEnd:D==="backward",insertDialCodeOnEmpty:i,countryGuessingEnabled:n,countries:h,prefix:a,charAfterDialCode:r,forceDialCode:f,disableDialCodeAndPrefix:u,disableFormatting:o,defaultMask:s}),C=ne({cursorPositionAfterInput:E,phoneBeforeInput:l,phoneAfterInput:v,phoneAfterFormatted:z,leftOffset:f?a.length+e.dialCode.length+r.length:0,deletion:D});return{phone:_,inputValue:z,cursorPosition:C,country:c}},le=(t,e)=>{let i=Object.keys(t),l=Object.keys(e);if(i.length!==l.length)return!1;for(let a of i)if(t[a]!==e[a])return!1;return!0},se=()=>{let t=g.useRef(),e=g.useRef(Date.now());return{check:()=>{let i=Date.now(),l=t.current?i-e.current:void 0;return t.current=e.current,e.current=i,l}}},ue={size:20,overrideLastItemDebounceMS:-1};function de(t,e){let{size:i,overrideLastItemDebounceMS:l,onChange:a}={...ue,...e},[r,f]=g.useState(t),[u,n]=g.useState([r]),[s,o]=g.useState(0),h=se();return[r,(d,p)=>{if(typeof d=="object"&&typeof r=="object"&&le(d,r)||d===r)return;let D=l>0,y=h.check(),b=D&&y!==void 0?y>l:!0;if((p==null?void 0:p.overrideLastItem)!==void 0?p.overrideLastItem:!b)n(N=>[...N.slice(0,s),d]);else{let N=u.length>=i;n(v=>[...v.slice(N?1:0,s+1),d]),N||o(v=>v+1)}f(d),a==null||a(d)},()=>{if(s<=0)return{success:!1};let d=u[s-1];return f(d),o(p=>p-1),a==null||a(d),{success:!0,value:d}},()=>{if(s+1>=u.length)return{success:!1};let d=u[s+1];return f(d),o(p=>p+1),a==null||a(d),{success:!0,value:d}}]}var J=".",$={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:T,preferredCountries:[]},ce=({defaultCountry:t=$.defaultCountry,value:e=$.value,countries:i=$.countries,prefix:l=$.prefix,defaultMask:a=$.defaultMask,charAfterDialCode:r=$.charAfterDialCode,historySaveDebounceMS:f=$.historySaveDebounceMS,disableCountryGuess:u=$.disableCountryGuess,disableDialCodePrefill:n=$.disableDialCodePrefill,forceDialCode:s=$.forceDialCode,disableDialCodeAndPrefix:o=$.disableDialCodeAndPrefix,disableFormatting:h=$.disableFormatting,onChange:d,inputRef:p})=>{let D={countries:i,prefix:l,charAfterDialCode:r,forceDialCode:o?!1:s,disableDialCodeAndPrefix:o,defaultMask:a,countryGuessingEnabled:!u,disableFormatting:h},y=g.useRef(null),b=p||y,N=w=>{Promise.resolve().then(()=>{var k;typeof window>"u"||b.current!==(document==null?void 0:document.activeElement)||((k=b.current)==null||k.setSelectionRange(w,w))})},[{phone:v,inputValue:E,country:_},z,c,C]=de(()=>{let w=j({value:t,field:"iso2",countries:i});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let k=w||j({value:"us",field:"iso2",countries:i}),{phone:M,inputValue:L,country:B}=U({value:e,country:k,insertDialCodeOnEmpty:!n,...D});return N(L.length),{phone:M,inputValue:L,country:B.iso2}},{overrideLastItemDebounceMS:f,onChange:({inputValue:w,phone:k,country:M})=>{if(!d)return;let L=m(M);d({phone:k,inputValue:w,country:L})}}),m=g.useCallback(w=>j({value:w,field:"iso2",countries:i}),[i]),x=g.useMemo(()=>m(_),[_,m]);g.useEffect(()=>{let w=b.current;if(!w)return;let k=M=>{if(!M.key)return;let L=M.ctrlKey,B=M.metaKey,Q=M.shiftKey;if(M.key.toLowerCase()==="z"){if(ae()){if(!B)return}else if(!L)return;Q?C():c()}};return w.addEventListener("keydown",k),()=>{w.removeEventListener("keydown",k)}},[b,c,C]);let P=w=>{w.preventDefault();let{phone:k,inputValue:M,country:L,cursorPosition:B}=oe(w,{country:x,phoneBeforeInput:E,insertDialCodeOnEmpty:!1,...D});return z({inputValue:M,phone:k,country:L.iso2}),N(B),e},I=(w,k={focusOnInput:!1})=>{let M=j({value:w,field:"iso2",countries:i});if(!M){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let L=o?"":`${l}${M.dialCode}${r}`;z({inputValue:L,phone:`${l}${M.dialCode}`,country:M.iso2}),k.focusOnInput&&Promise.resolve().then(()=>{var B;(B=b.current)==null||B.focus()})},[R,F]=g.useState(!1);return g.useEffect(()=>{if(!R){F(!0),e!==v&&(d==null||d({inputValue:E,phone:v,country:x}));return}if(e===v)return;let{phone:w,inputValue:k,country:M}=U({value:e,country:x,insertDialCodeOnEmpty:!n,...D});z({phone:w,inputValue:k,country:M.iso2})},[e]),{phone:v,inputValue:E,country:x,setCountry:I,handlePhoneValueChange:P,inputRef:b}},fe=({phone:t,country:e,defaultMask:i="............",disableFormatting:l=!1})=>{let a=e.format,r=u=>l?u.replace(new RegExp(`[^${J}]`,"g"),""):u;if(!a)return r(i);if(typeof a=="string")return r(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),r(i);let f=Object.keys(a).find(u=>{if(u==="default")return!1;if(!(u.charAt(0)==="/"&&u.charAt(u.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${u}" for ${e.iso2} is not valid`),!1;let n=new RegExp(u.substring(1,u.length-1)),s=t.replace(e.dialCode,"");return n.test(H(s))});return r(f?a[f]:a.default)},V=t=>{let[e,i,l,a,r,f]=t;return{name:e,iso2:i,dialCode:l,format:a,priority:r,areaCodes:f}},pe=t=>`Field "${t}" is not supported`,j=({field:t,value:e,countries:i=T})=>{if(["priority"].includes(t))throw new Error(pe(t));let l=i.find(a=>{let r=V(a);return e===r[t]});if(l)return V(l)},he=({phone:t,countries:e=T,currentCountryIso2:i})=>{var u;let l={country:void 0,fullDialCodeMatch:!1};if(!t)return l;let a=H(t);if(!a)return l;let r=l,f=({country:n,fullDialCodeMatch:s})=>{var d,p;let o=n.dialCode===((d=r.country)==null?void 0:d.dialCode),h=(n.priority??0)<(((p=r.country)==null?void 0:p.priority)??0);(!o||h)&&(r={country:n,fullDialCodeMatch:s})};for(let n of e){let s=V(n),{dialCode:o,areaCodes:h}=s;if(a.startsWith(o)){let d=r.country?Number(o)>=Number(r.country.dialCode):!0;if(h){let p=a.substring(o.length);for(let D of h)if(p.startsWith(D))return{country:s,fullDialCodeMatch:!0}}(d||o===a||!r.fullDialCodeMatch)&&f({country:s,fullDialCodeMatch:!0})}r.fullDialCodeMatch||a.length<o.length&&o.startsWith(a)&&(!r.country||Number(o)<=Number(r.country.dialCode))&&f({country:s,fullDialCodeMatch:!1})}if(i){let n=j({value:i,field:"iso2",countries:e});if(!n)return r;let s=n?(o=>{if(!(o!=null&&o.areaCodes))return!1;let h=a.substring(o.dialCode.length);return o.areaCodes.some(d=>d.startsWith(h))})(n):!1;r&&((u=r.country)==null?void 0:u.dialCode)===n.dialCode&&r.country!==n&&r.fullDialCodeMatch&&(!n.areaCodes||s)&&(r={country:n,fullDialCodeMatch:!0})}return r},me=(t,e)=>{let i=parseInt(t,16);return Number(i+e).toString(16)},ye="abcdefghijklmnopqrstuvwxyz",Ce="1f1e6",q=ye.split("").reduce((t,e,i)=>({...t,[e]:me(Ce,i)}),{}),ge=t=>[q[t[0]],q[t[1]]].join("-"),Z=({iso2:t,size:e,src:i,protocol:l="https",disableLazyLoading:a,className:r,style:f,...u})=>{if(!t)return S.createElement("img",{className:A({addPrefix:["flag-emoji"],rawClassNames:[r]}),width:e,height:e,...u});let n=()=>{if(i)return i;let s=ge(t);return`${l}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return S.createElement("img",{className:A({addPrefix:["flag-emoji"],rawClassNames:[r]}),src:n(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...f},alt:"",...u})},be=1e3,ve=({show:t,dialCodePrefix:e="+",selectedCountry:i,countries:l=T,preferredCountries:a=[],flags:r,onSelect:f,onClose:u,...n})=>{let s=g.useRef(null),o=g.useRef(),h=g.useMemo(()=>{if(!a||!a.length)return l;let c=[],C=[...l];for(let m of a){let x=C.findIndex(P=>V(P).iso2===m);if(x!==-1){let P=C.splice(x,1)[0];c.push(P)}}return c.concat(C)},[l,a]),d=g.useRef({updatedAt:void 0,value:""}),p=c=>{let C=d.current.updatedAt&&new Date().getTime()-d.current.updatedAt.getTime()>be;d.current={value:C?c:`${d.current.value}${c}`,updatedAt:new Date};let m=h.findIndex(x=>V(x).name.toLowerCase().startsWith(d.current.value));m!==-1&&b(m)},D=g.useCallback(c=>h.findIndex(C=>V(C).iso2===c),[h]),[y,b]=g.useState(D(i)),N=()=>{o.current!==i&&b(D(i))},v=g.useCallback(c=>{b(D(c.iso2)),f==null||f(c)},[f,D]),E=c=>{let C=h.length-1,m=x=>c==="prev"?x-1:c==="next"?x+1:c==="last"?C:0;b(x=>{let P=m(x);return P<0?0:P>C?C:P})},_=c=>{if(c.stopPropagation(),c.key==="Enter"){c.preventDefault();let C=V(h[y]);v(C);return}if(c.key==="Escape"){u==null||u();return}if(c.key==="ArrowUp"){c.preventDefault(),E("prev");return}if(c.key==="ArrowDown"){c.preventDefault(),E("next");return}if(c.key==="PageUp"){c.preventDefault(),E("first");return}if(c.key==="PageDown"){c.preventDefault(),E("last");return}c.key===" "&&c.preventDefault(),c.key.length===1&&!c.altKey&&!c.ctrlKey&&!c.metaKey&&p(c.key.toLocaleLowerCase())},z=g.useCallback(()=>{if(!s.current||y===void 0)return;let c=V(h[y]).iso2;if(c===o.current)return;let C=s.current.querySelector(`[data-country="${c}"]`);C&&(te(s.current,C),o.current=c)},[y,h]);return g.useEffect(()=>{z()},[y,z]),g.useEffect(()=>{s.current&&(t?s.current.focus():N())},[t]),g.useEffect(()=>{N()},[i]),S.createElement("ul",{ref:s,role:"listbox",className:A({addPrefix:["country-selector-dropdown"],rawClassNames:[n.className]}),style:{display:t?"block":"none",...n.style},onKeyDown:_,onBlur:u,tabIndex:-1,"aria-activedescendant":`react-international-phone__${V(h[y]).iso2}-option`},h.map((c,C)=>{let m=V(c),x=m.iso2===i,P=C===y,I=a.includes(m.iso2),R=C===a.length-1,F=r==null?void 0:r.find(w=>w.iso2===m.iso2);return S.createElement(S.Fragment,{key:m.iso2},S.createElement("li",{"data-country":m.iso2,role:"option","aria-selected":x,"aria-label":`${m.name} ${e}${m.dialCode}`,id:`react-international-phone__${m.iso2}-option`,className:A({addPrefix:["country-selector-dropdown__list-item",I&&"country-selector-dropdown__list-item--preferred",x&&"country-selector-dropdown__list-item--selected",P&&"country-selector-dropdown__list-item--focused"],rawClassNames:[n.listItemClassName]}),onClick:()=>v(m),style:n.listItemStyle,title:m.name},S.createElement(Z,{iso2:m.iso2,src:F==null?void 0:F.src,className:A({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[n.listItemFlagClassName]}),style:n.listItemFlagStyle}),S.createElement("span",{className:A({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[n.listItemCountryNameClassName]}),style:n.listItemCountryNameStyle},m.name),S.createElement("span",{className:A({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[n.listItemDialCodeClassName]}),style:n.listItemDialCodeStyle},e,m.dialCode)),R?S.createElement("hr",{className:A({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[n.preferredListDividerClassName]}),style:n.preferredListDividerStyle}):null)}))},we=({selectedCountry:t,onSelect:e,disabled:i,hideDropdown:l,countries:a=T,preferredCountries:r=[],flags:f,renderButtonWrapper:u,...n})=>{let[s,o]=g.useState(!1),h=g.useMemo(()=>{if(t)return j({value:t,field:"iso2",countries:a})},[a,t]),d=g.useRef(null),p=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),o(!0))},D=()=>{var N;let y={title:h==null?void 0:h.name,onClick:()=>o(v=>!v),onMouseDown:v=>v.preventDefault(),onKeyDown:p,disabled:l||i,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},b=S.createElement("div",{className:A({addPrefix:["country-selector-button__button-content"],rawClassNames:[n.buttonContentWrapperClassName]}),style:n.buttonContentWrapperStyle},S.createElement(Z,{iso2:t,src:(N=f==null?void 0:f.find(v=>v.iso2===t))==null?void 0:N.src,className:A({addPrefix:["country-selector-button__flag-emoji",i&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[n.flagClassName]}),style:{visibility:t?"visible":"hidden",...n.flagStyle}}),!l&&S.createElement("div",{className:A({addPrefix:["country-selector-button__dropdown-arrow",i&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[n.dropdownArrowClassName]}),style:n.dropdownArrowStyle}));return u?u({children:b,rootProps:y}):S.createElement("button",{...y,type:"button",className:A({addPrefix:["country-selector-button",s&&"country-selector-button--active",i&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[n.buttonClassName]}),"data-country":t,style:n.buttonStyle},b)};return S.createElement("div",{className:A({addPrefix:["country-selector"],rawClassNames:[n.className]}),style:n.style,ref:d},D(),S.createElement(ve,{show:s,countries:a,preferredCountries:r,flags:f,onSelect:y=>{o(!1),e==null||e(y)},selectedCountry:t,onClose:()=>{o(!1)},...n.dropdownStyleProps}))},De=({dialCode:t,prefix:e,disabled:i,style:l,className:a})=>S.createElement("div",{className:A({addPrefix:["dial-code-preview",i&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:l},`${e}${t}`),Pe=g.forwardRef(({value:t,onChange:e,countries:i=T,preferredCountries:l=[],hideDropdown:a,showDisabledDialCodeAndPrefix:r,disableFocusAfterCountrySelect:f,flags:u,style:n,className:s,inputStyle:o,inputClassName:h,countrySelectorStyleProps:d,dialCodePreviewStyleProps:p,inputProps:D,placeholder:y,disabled:b,name:N,onFocus:v,onBlur:E,required:_,autoFocus:z,...c},C)=>{let{phone:m,inputValue:x,inputRef:P,country:I,setCountry:R,handlePhoneValueChange:F}=ce({value:t,countries:i,...c,onChange:k=>{e==null||e(k.phone,{country:k.country,inputValue:k.inputValue})}}),w=c.disableDialCodeAndPrefix&&r&&(I==null?void 0:I.dialCode);return g.useImperativeHandle(C,()=>P.current?Object.assign(P.current,{setCountry:R,state:{phone:m,inputValue:x,country:I}}):null,[P,R,m,x,I]),S.createElement("div",{ref:C,className:A({addPrefix:["input-container"],rawClassNames:[s]}),style:n},S.createElement(we,{onSelect:k=>R(k.iso2,{focusOnInput:!f}),flags:u,selectedCountry:I.iso2,countries:i,preferredCountries:l,disabled:b,hideDropdown:a,...d}),w&&S.createElement(De,{dialCode:I.dialCode,prefix:c.prefix??"+",disabled:b,...p}),S.createElement("input",{onChange:F,value:x,type:"tel",ref:P,className:A({addPrefix:["input",b&&"input--disabled"],rawClassNames:[h]}),placeholder:y,disabled:b,style:o,name:N,onFocus:v,onBlur:E,autoFocus:z,required:_,...D}))});export{ke as M,Pe as U,Se as a,Me as b,Ne as c};
