import{g as D,r as t,u as F,d as R,j as e,L as B,B as a}from"./index-DhjJ93cj.js";import{U as I,d as L}from"./Transition-yqxQHWfW.js";/* empty css              */import{T as p,F as x,S as y,M as n,C as O}from"./Login-COfwupwr.js";import{H as k}from"./Header-BxO1MFlA.js";import{b as G}from"./index-Ckmwyciz.js";const{hostname:W}=window.location;let j=D(W);const J=()=>{const[l,f]=t.useState(""),[o,v]=t.useState(""),[i,N]=t.useState(""),[_,u]=t.useState(!1),[b,g]=t.useState(!1),[S,E]=t.useState(""),[s,C]=t.useState("false"),[c,P]=t.useState("false"),[d,T]=t.useState(""),{registrationVerify:M}=F(r=>r),h=R(),w=async r=>{try{if(u(!0),r.preventDefault(),!i.trim()||!l.trim())return a.error("Fill the input fields properly");if(!o.trim())return a.error("Enter a valid password");if(s==="false")return a.error("Select a user type");if(s==="Dealer"&&c==="false")return a.error("Select a payment type");if(s==="Dealer"&&!d.trim())return a.error("Enter your Business Partner Type");const m=await M(i,j);m.error?(u(!1),g(!0),E(m.message)):(u(!1),g(!1),h("/otp",{state:{mobileNumber:i,subdomain:j,username:l,password:o,userType:s,paymentType:c,businessPartnerType:d,registration:!0}}))}catch(m){console.error(m)}finally{u(!1)}},U=()=>{if(!i.trim()||!l.trim())return a.error("Fill the input fields properly");if(s==="Dealer"&&c==="false")return a.error("Select a payment type");if(!o.trim())return a.error("Enter a valid password");if(s==="Dealer"&&!d.trim())return a.error("Enter your Business Partner Type");h("/billing",{state:{mobileNumber:i,username:l,userType:s,paymentType:c,businessPartnerType:d,password:o}})};return e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsxs("div",{className:"login",children:[e.jsxs("div",{className:"login__header",children:["WELCOME TO ",e.jsx("span",{style:{color:"blueviolet"},children:"iXES"})," IRP COMMERCE"]}),e.jsx("div",{className:"login__header_login",children:"REGISTER"}),e.jsxs("div",{className:"login__container",children:[e.jsx("div",{className:"login__input_container",children:e.jsx(p,{id:"outlined-username",label:"Name",type:"text",className:"login__input_field",value:l,onChange:r=>f(r.target.value)})}),e.jsx("div",{className:"login__input_container",children:e.jsx(x,{fullWidth:!0,children:e.jsxs(y,{id:"user-type",value:s,onChange:r=>C(r.target.value),children:[e.jsx(n,{value:"false",children:"Select User Role"}),e.jsx(n,{value:"Normal",children:"Standard User"}),e.jsx(n,{value:"Dealer",children:"Business Partner"})]})})}),s==="Dealer"&&e.jsx("div",{className:"login__input_container",children:e.jsx(p,{id:"business-partner-type",label:"Business Partner Type",type:"text",className:"login__input_field",value:d,onChange:r=>T(r.target.value)})}),s==="Dealer"&&e.jsx("div",{className:"login__input_container",children:e.jsx(x,{fullWidth:!0,children:e.jsxs(y,{id:"payment-type",value:c,onChange:r=>P(r.target.value),children:[e.jsx(n,{value:"false",children:"Payment Type"}),e.jsx(n,{value:"Up Front",children:"Up Front"}),e.jsx(n,{value:"Monthly Payment",children:"Monthly Payment"}),e.jsx(n,{value:"Credit",children:"Credit"})]})})}),e.jsx("div",{className:"login__input_container",children:e.jsx(I,{value:i,onChange:N,className:"login__phone_input_field",defaultCountry:"in",placeholder:"Enter phone number"})}),e.jsx("div",{className:"login__input_container",children:e.jsx(p,{id:"outlined-password-input",label:"Password",type:"password",className:"login__input_field",value:o,onChange:r=>v(r.target.value)})}),e.jsx("div",{className:"login__btn_container",children:s==="Dealer"?e.jsx("button",{className:"login__btn",onClick:U,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[e.jsx(G,{size:22,style:{paddingBottom:"5px"}}),"GET PREMIUM PLAN"]})}):e.jsx("button",{className:"login__btn",onClick:w,disabled:_,children:_?e.jsx(O,{size:24}):"SIGN UP"})}),e.jsx("div",{className:"login__redirect_text_sec",children:e.jsxs("div",{className:"login__redirect_text",children:[e.jsx("span",{className:"login__redirect_txt",children:"Already have an account?"}),e.jsx(B,{to:"/login",className:"login__redirect_link",children:"LOG IN"})]})}),b&&e.jsxs("div",{className:"login__error_sec",children:[e.jsx(L,{}),e.jsx("div",{className:"login__error_msg",children:S||"Login Error"})]})]})]})]})};export{J as default};
