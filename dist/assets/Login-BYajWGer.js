import{r as h,j as o,A as P,g as K,a as Q,u as X,d as Y,L as Z}from"./index-Dsv6zmr7.js";import{U as ee,e as te}from"./Transition-tcXHTwEB.js";/* empty css              */import{g as R,a as z,s as B,B as se,c as m,m as j,b as O,d as I,u as E,e as T,i as oe,f as ae,F as re,h as F,j as ne,S as ie,M as N,T as le,C as ce}from"./Login-CIlxI4Fr.js";import{H as pe}from"./Header-CovwQm5U.js";function de(e){return z("MuiIconButton",e)}const ue=R("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ge=e=>{const{classes:s,disabled:t,color:a,edge:r,size:c}=e,n={root:["root",t&&"disabled",a!=="default"&&`color${m(a)}`,r&&`edge${m(r)}`,`size${m(c)}`]};return T(n,de,s)},he=B(se,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,t.color!=="default"&&s[`color${m(t.color)}`],t.edge&&s[`edge${m(t.edge)}`],s[`size${m(t.size)}`]]}})(j(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:O(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),j(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(I()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(I()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${(e.vars||e).palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:O((e.vars||e).palette[s].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${ue.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),me=h.forwardRef(function(s,t){const a=E({props:s,name:"MuiIconButton"}),{edge:r=!1,children:c,className:n,color:p="default",disabled:d=!1,disableFocusRipple:u=!1,disableRipple:v=!1,size:y="medium",...g}=a,l={...a,edge:r,color:p,disabled:d,disableFocusRipple:u,disableRipple:v,size:y},f=ge(l);return o.jsx(he,{className:P(f.root,n),centerRipple:!0,focusRipple:!u,disabled:d,disableRipple:v,ref:t,...g,ownerState:l,children:c})});function ve(e){return z("MuiTypography",e)}R("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ye=oe(),xe=e=>{const{align:s,gutterBottom:t,noWrap:a,paragraph:r,variant:c,classes:n}=e,p={root:["root",c,e.align!=="inherit"&&`align${m(s)}`,t&&"gutterBottom",a&&"noWrap",r&&"paragraph"]};return T(p,ve,n)},be=B("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,t.variant&&s[t.variant],t.align!=="inherit"&&s[`align${m(t.align)}`],t.noWrap&&s.noWrap,t.gutterBottom&&s.gutterBottom,t.paragraph&&s.paragraph]}})(j(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,a])=>t!=="inherit"&&a&&typeof a=="object").map(([t,a])=>({props:{variant:t},style:a})),...Object.entries(e.palette).filter(I()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${m(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),A={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_e=h.forwardRef(function(s,t){const{color:a,...r}=E({props:s,name:"MuiTypography"}),c=!fe[a],n=ye({...r,...c&&{color:a}}),{align:p="inherit",className:d,component:u,gutterBottom:v=!1,noWrap:y=!1,paragraph:g=!1,variant:l="body1",variantMapping:f=A,...x}=n,_={...n,align:p,color:a,className:d,component:u,gutterBottom:v,noWrap:y,paragraph:g,variant:l,variantMapping:f},S=u||(g?"p":f[l]||A[l])||"span",C=xe(_);return o.jsx(be,{as:S,ref:t,className:P(C.root,d),...x,ownerState:_,style:{...p!=="inherit"&&{"--Typography-textAlign":p},...x.style}})});function je(e){return z("MuiInputAdornment",e)}const U=R("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var W;const Se=(e,s)=>{const{ownerState:t}=e;return[s.root,s[`position${m(t.position)}`],t.disablePointerEvents===!0&&s.disablePointerEvents,s[t.variant]]},Ce=e=>{const{classes:s,disablePointerEvents:t,hiddenLabel:a,position:r,size:c,variant:n}=e,p={root:["root",t&&"disablePointerEvents",r&&`position${m(r)}`,n,a&&"hiddenLabel",c&&`size${m(c)}`]};return T(p,je,s)},we=B("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Se})(j(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${U.positionStart}&:not(.${U.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Ne=h.forwardRef(function(s,t){const a=E({props:s,name:"MuiInputAdornment"}),{children:r,className:c,component:n="div",disablePointerEvents:p=!1,disableTypography:d=!1,position:u,variant:v,...y}=a,g=ae()||{};let l=v;v&&g.variant,g&&!l&&(l=g.variant);const f={...a,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:p,position:u,variant:l},x=Ce(f);return o.jsx(re.Provider,{value:null,children:o.jsx(we,{as:n,ownerState:f,className:P(x.root,c),ref:t,...y,children:typeof r=="string"&&!d?o.jsx(_e,{color:"textSecondary",children:r}):o.jsxs(h.Fragment,{children:[u==="start"?W||(W=o.jsx("span",{className:"notranslate",children:"â€‹"})):null,r]})})})}),Ie=F(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Me=F(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),{hostname:Pe}=window.location;let M=K(Pe);console.log("ss",M);const $e=()=>{var L;const{login:e}=Q()||{},[s,t]=h.useState(""),[a,r]=h.useState(!1),[c,n]=h.useState(!1),[p,d]=h.useState(""),[u,v]=h.useState(""),[y,g]=h.useState(!1),[l,f]=h.useState("Normal"),[x,_]=h.useState(!1),{verifyNumber:S,loginWithPassword:C,storeData:w}=X(i=>i);let $=Y();const D=()=>{_(!x)},V=i=>{i.preventDefault()},H=async i=>{i.preventDefault(),y?J():G()},G=async()=>{var i,k;if(l==="false")return n(!0),d("Select a user type");if(r(!0),n(!1),s.trim()&&u.trim()&&s.length>7){const b=await C(s,u,M,l);if(console.log("response",b),r(!1),b.error)b.subscription===!1&&$("/upgrade-plan",{state:{userId:b.userId,username:b.username}}),n(!0),d(b.message);else{const q={username:(i=b.data)==null?void 0:i.username,api_token:(k=b.data)==null?void 0:k.token};e(q)}}else r(!1),n(!0),d("Invalid mobile number or password")},J=async()=>{if(l==="false")return n(!0),d("Select a user type");r(!0),n(!1);let i=null;i=await S(s),console.log("otpres",i),i.error?(r(!1),n(!0),d("Enter a valid mobile number")):(r(!1),n(!1),$("/otp",{state:{mobileNumber:s,subdomain:M,registration:!1,userType:l}}))};return o.jsxs(o.Fragment,{children:[o.jsx(pe,{}),o.jsxs("div",{className:"login",children:[o.jsx("div",{className:"login__header",children:`WELCOME TO ${(L=w==null?void 0:w.storeName)==null?void 0:L.toUpperCase()}`}),o.jsx("div",{className:"login__header_login",children:"SIGN IN"}),o.jsxs("div",{className:"login__container",children:[o.jsx("div",{className:"login__input_container",children:o.jsx(ee,{value:s,onChange:t,className:"login__phone_input_field",defaultCountry:"in",placeholder:"Enter phone number"})}),o.jsx("div",{className:"login__input_container",children:o.jsx(ne,{fullWidth:!0,children:o.jsxs(ie,{id:"user-type",value:l,onChange:i=>f(i.target.value),children:[o.jsx(N,{value:"false",children:"Select User Role"}),o.jsx(N,{value:"Normal",children:"Standard User"}),o.jsx(N,{value:"Dealer",children:"Business Partner"})]})})}),y?o.jsx(o.Fragment,{}):o.jsx("div",{className:"login__input_container",children:o.jsx(le,{id:"outlined-password-input",label:"Password",type:x?"text":"password",autoComplete:"current-password",value:u,onChange:i=>v(i.target.value),className:"login__input_field",InputProps:{endAdornment:o.jsx(Ne,{position:"end",children:o.jsx(me,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:V,edge:"end",children:x?o.jsx(Me,{}):o.jsx(Ie,{})})})}})}),o.jsxs("div",{className:"login__With_otp_sec",children:[o.jsx("input",{type:"checkbox",onChange:i=>g(i.target.checked)})," Login With OTP"]}),o.jsx("div",{className:"login__btn_container",children:o.jsx("button",{className:"login__btn",onClick:H,disabled:a,children:a?o.jsx(ce,{size:24}):"SIGN IN"})}),o.jsx("div",{className:"login__redirect_text_sec",children:o.jsxs("div",{className:"login__redirect_text",children:[o.jsx("span",{className:"login__redirect_txt",children:"Don't have an account ?"}),o.jsx(Z,{to:"/register",className:"login__redirect_link",children:"SIGN UP"})]})}),c&&o.jsxs("div",{className:"login__error_sec",children:[o.jsx(te,{}),o.jsx("div",{className:"login__error_msg",children:p||"Login Error"})]})]})]})]})};export{$e as default};
